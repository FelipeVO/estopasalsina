<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Productos | Estopas Alsina</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="imgs/favicon-estopas-alsina.jpg" type="image/jpeg">
    <link rel="apple-touch-icon" href="imgs/favicon-estopas-alsina.jpg">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="components/navbar.js"></script>
    <script src="components/footer.js"></script>
    <script src="components/contact-form.js"></script>
    <script src="components/product-card.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#f5f5f5',
                        secondary: '#e5e5e5',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-primary text-black font-sans">
    <custom-navbar></custom-navbar>

    <!-- Hero Section -->
    <section class="pt-32 px-4 max-w-7xl mx-auto">
        <div class="text-center mb-16">
            <h2 class="text-4xl font-serif font-bold mb-4">Nuestros Productos</h2>
            <p class="text-xl max-w-3xl mx-auto text-gray-700">
                Descubra nuestra gama completa de estopas de alta calidad, elaboradas con los más altos estándares desde 1910.
            </p>
        </div>
    </section>

    <!-- <section class="relative py-32 flex items-center justify-center bg-gradient-to-b from-primary to-secondary">
        <div class="text-center px-4 max-w-4xl">
            <h1 class="text-5xl md:text-7xl font-serif font-bold mb-6 tracking-tight">Nuestros Productos</h1>
            <p class="text-xl md:text-2xl mb-10 max-w-2xl mx-auto leading-relaxed">
                Descubra nuestra gama completa de estopas de alta calidad, elaboradas con los más altos estándares desde 1910.
            </p>
        </div>
    </section> -->

    <!-- All Products Section -->
    <section class="py-10 px-4 max-w-4xl mx-auto">
        <!-- Product 1 -->
        <div class="flex flex-col md:flex-row gap-32 items-center mb-20" data-slug="el-puente">
            <div class="md:w-1/2">
                <img src="imgs/estopa-blanca-lustre.png" 
                     alt="El Puente" class="w-full rounded-lg shadow-xl">
            </div>
            <div class="md:w-1/2">
                <h2 class="text-3xl font-serif font-bold mb-4"></h2>
                <p class="text-lg text-gray-700 mb-6"></p>
                <p class="text-lg text-gray-700 mb-6"></p>
                <a href="product.html?slug=el-puente" class="inline-block border-2 border-black px-6 py-3 rounded-full font-medium hover:bg-black hover:text-white transition duration-300">
                    Ver detalles completos
                </a>
            </div>
        </div>

        <!-- Product 2 -->
        <div class="flex flex-col md:flex-row gap-32 items-center mb-20" data-slug="v-a">
            <div class="md:w-1/2 order-2 md:order-1">
                <h2 class="text-3xl font-serif font-bold mb-4">V.A.</h2>
                <p class="text-lg text-gray-700 mb-6"></p>
                <p class="text-lg text-gray-700 mb-6"></p>
                <a href="product.html?slug=v-a" class="inline-block border-2 border-black px-6 py-3 rounded-full font-medium hover:bg-black hover:text-white transition duration-300">
                    Ver detalles completos
                </a>
            </div>
            <div class="md:w-1/2 order-1 md:order-2">
                <img src="imgs/estopa-color-limpieza.png" 
                     alt="V.A." class="w-full rounded-lg shadow-xl">
            </div>
        </div>

        <!-- Product 3 -->
        <div class="flex flex-col md:flex-row gap-32 items-center mb-20" data-slug="huinca">
            <div class="md:w-1/2">
                <img src="imgs/estopa-blanca-limpieza.png" 
                     alt="Huinca" class="w-full rounded-lg shadow-xl">
            </div>
            <div class="md:w-1/2">
                <h2 class="text-3xl font-serif font-bold mb-4">Huinca</h2>
                <p class="text-lg text-gray-700 mb-6"></p>
                <p class="text-lg text-gray-700 mb-6"></p>
                <a href="product.html?slug=huinca" class="inline-block border-2 border-black px-6 py-3 rounded-full font-medium hover:bg-black hover:text-white transition duration-300">
                    Ver detalles completos
                </a>
            </div>
        </div>

        <!-- Product 4 -->
        <div class="flex flex-col md:flex-row gap-32 items-center mb-20" data-slug="ecopano">
            <div class="md:w-1/2 order-2 md:order-1">
                <h2 class="text-3xl font-serif font-bold mb-4">Ecopaño</h2>
                <p class="text-lg text-gray-700 mb-6"></p>
                <p class="text-lg text-gray-700 mb-6"></p>
                <a href="product.html?slug=ecopano" class="inline-block border-2 border-black px-6 py-3 rounded-full font-medium hover:bg-black hover:text-white transition duration-300">
                    Ver detalles completos
                </a>
            </div>
            <div class="md:w-1/2 order-1 md:order-2">
                <img src="imgs/trapos.jpg" 
                     alt="Ecopaño" class="w-full rounded-lg shadow-xl">
            </div>
        </div>

        <!-- Closing Section -->
        <div class="max-w-3xl mx-auto text-center py-16">
            <h2 class="text-4xl font-serif font-bold mb-6">Calidad que perdura desde 1910</h2>
            <p class="text-xl text-gray-700 leading-relaxed mb-8">
                Cada uno de nuestros productos está tejido con el mismo compromiso con la excelencia que ha definido a nuestra empresa familiar durante más de un siglo. Desde los materiales más finos hasta los procesos artesanales, cada detalle cuenta en la creación de estopas que superan expectativas.
            </p>
            <a href="#contact" class="inline-block bg-black text-white px-8 py-4 rounded-full text-lg font-medium hover:bg-gray-800 transition duration-300">
                Contáctenos para más información
            </a>
        </div>
    </section>

    <contact-form id="contact"></contact-form>

    <custom-footer></custom-footer>
    <script>
        // Sync productos page content with data/products.json while keeping the existing layout
        (function(){
            fetch('data/products.json')
                .then(res => res.json())
                .then(products => {
                    function findBySlug(slug){
                        return products.find(p => p.slug === slug);
                    }

                    document.querySelectorAll('[data-slug]').forEach(block => {
                        const slug = block.getAttribute('data-slug');
                        const p = findBySlug(slug);
                        if (!p) return; // leave existing content if product not found

                        // Update image if present
                        const img = block.querySelector('img');
                        if (img && p.image) {
                            img.src = p.image;
                            img.alt = p.title;
                            img.loading = 'lazy';
                            img.decoding = 'async';
                            img.setAttribute('srcset', p.image);
                        }

                        // Update title
                        const h2 = block.querySelector('h2');
                        if (h2) h2.textContent = p.title;

                        // Update main paragraph (first p.text-lg)
                        const pNodes = block.querySelectorAll('p.text-lg.text-gray-700');
                        if (pNodes && pNodes.length > 0) {
                            pNodes[0].textContent = p.short;
                        }

                        // Optionally update quote or second paragraph
                        if (pNodes && pNodes.length > 1 && p.short) {
                            pNodes[1].textContent = p.description;
                        }

                        // Update link href to canonical product page
                        const a = block.querySelector('a[href*="product.html"], a[href="#"]');
                        if (a) {
                            a.href = `product.html?slug=${encodeURIComponent(p.slug)}`;
                        }
                    });
                })
                .catch(err => console.error('Error loading products.json:', err));
        })();

        feather.replace();
    </script>
</body>
</html>